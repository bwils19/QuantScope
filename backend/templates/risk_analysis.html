{% extends "base.html" %}

{% block content %}
<div class="risk-analysis-container">
    <div class="page-header">
        <div class="header-content">
            <button class="back-btn" onclick="history.back()">‚Üê Back</button>
            <h2 class="page-title">Risk Analysis: {{ portfolio_name }}</h2>
        </div>
    </div>

    <div class="metrics-grid">
        <div class="metric-card">
            <h3>Portfolio Value</h3>
            <div id="totalValue" class="metric-value">$0.00</div>
        </div>
        <div class="metric-card">
            <h3>Portfolio Beta</h3>
            <div id="portfolioBeta" class="metric-value">0.00</div>
        </div>
        <div class="metric-card">
            <h3>Value at Risk (95%)</h3>
            <div id="portfolioVar" class="metric-value">$0.00</div>
        </div>
    </div>

    <div class="charts-grid">
        <div class="chart-card">
            <h3>VaR Analysis</h3>
            <div class="chart-container">
                <canvas id="varChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <h3>Risk Component Analysis</h3>
            <div class="chart-container">
                <canvas id="riskHeatmap"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <h3>Market Regime Distribution</h3>
            <div class="chart-container">
                <canvas id="regimeChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/risk_analysis.js') }}"></script>
{% endblock %}